<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Guerriers du Bitume</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>

    <!-- Header (comme les autres pages) -->
    <header class="header">
        <div class="logo">
            <h1>Guerriers du Bitume</h1>
            <span>VTC solo | ETS2 | TruckersMP | TruckyHub</span>
        </div>
        <nav>
            <ul>
                <li><a href="../index.html">Accueil</a></li>
                <li><a href="entreprise.html">Entreprise</a></li>
                <li><a href="flotte.html">Flotte</a></li>
                <li><a href="recrutement.html">Recrutement</a></li>
                <li><a href="contact.html" class="active">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero vidéo (comme les autres pages) -->
    <section class="hero-video">
        <video autoplay muted loop playsinline class="bg-video">
            <source src="../videos/videotruckyhub.mp4" type="video/mp4">
            Ton navigateur ne supporte pas la vidéo.
        </video>
        <div class="hero-overlay">
            <h2>Contactez-nous</h2>
            <p>Une question ? Une idée ? Une proposition ? On est à l'écoute.</p>
        </div>
    </section>

    <!-- Formulaire de contact -->
    <section class="content contact-section">
        <div class="container">
            <h2>Envoyez-nous un message</h2>
            <p class="intro-form">On répond généralement sous 24h. Pas de spam, pas de bullshit.</p>

            <form id="contact-form" class="form-contact">
                <div class="form-group">
                    <div class="fake-button-label">Nom complet *</div>
                    <input type="text" name="nom" placeholder="Ton nom complet" required minlength="3">
                </div>

                <div class="form-group">
                    <div class="fake-button-label">Email *</div>
                    <input type="email" name="email" placeholder="ton@email.com" required>
                </div>

                <div class="form-group">
                    <div class="fake-button-label">Objet *</div>
                    <input type="text" name="objet" placeholder="Sujet de ton message" required>
                </div>

                <div class="form-group">
                    <div class="fake-button-label">Ton message *</div>
                    <textarea name="message" placeholder="Écris-nous ici... (sois clair, on déteste les messages illisibles)" rows="7" required></textarea>
                </div>

                <button type="submit" class="btn-submit">
                    Envoyer le message
                    <span class="loader"></span>
                </button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        © 2026 Guerriers du Bitume – Bitume ou rien
    </footer>

    <!-- Bouton Créé par Lorenzo CARTER – Bas droite -->
<div class="creator-button">
    <span>Clique ici ➡️<span></span>
    <a href="https://suulitoo.github.io/mes-liens-social-clean/" class="creator-link" target="_blank" rel="noopener noreferrer">
        Créé par Lorenzo CARTER
    </a>
</div>

    <script>
document.getElementById('contact-form').addEventListener('submit', async function(e) {
    e.preventDefault();

    const btn = document.querySelector('.btn-submit');
    const loader = btn.querySelector('.loader');
    btn.disabled = true;
    loader.style.opacity = '1';

    const data = {
        nom: this.nom.value.trim(),
        email: this.email.value.trim(),
        objet: this.objet.value.trim(),
        message: this.message.value.trim()
    };

    const embed = {
        title: "Nouveau Message Contact - Guerriers du Bitume",
        color: 0xff6200,
        fields: [
            { name: "Nom", value: data.nom || "—", inline: true },
            { name: "Email", value: data.email || "—", inline: true },
            { name: "Objet", value: data.objet || "—", inline: true },
            { name: "Message", value: data.message || "—", inline: false }
        ],
        timestamp: new Date().toISOString(),
        footer: { text: "Via le formulaire Contact du site" }
    };

    try {
        const res = await fetch("https://discord.com/api/webhooks/1456694565959630930/TUeQ2rhobpADh2Et7YnRhFAbkD_R_gc5zrYXoapzYtKE6mSLEVSbaiY1k376_cxEl7Ea", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ embeds: [embed] })
        });

        if (res.ok) {
            alert("Message envoyé ! On te répond vite.");
            this.reset();
        } else {
            alert("Erreur lors de l'envoi : " + res.status);
            console.log(await res.text());
        }
    } catch (err) {
        alert("Erreur réseau. Vérifie ta connexion.");
        console.error(err);
    } finally {
        btn.disabled = false;
        loader.style.opacity = '0';
    }
});
</script>
</body>
</html>